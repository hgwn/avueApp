(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["v3member"],{"16e1":function(e,t,n){e.exports=n.p+"static/img/ys.7df2d9e1.png"},"19aa":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("top-msg",{attrs:{"header-name":"服务商中心"}}),a("div",{staticClass:"con_body mgb110"},[a("div",{staticClass:"bg_msg"},[e.userInfo?[e.userInfo.id_card_name?a("h5",{staticClass:"user-name textEllipsis"},[e._v("\n          "+e._s(e.userInfo.id_card_name)+"\n        ")]):a("h5",{staticClass:"user-name textEllipsis"},[e._v("\n          "+e._s(e.userInfo.username.substring(0,3)+"****"+e.userInfo.username.substring(7,11))+"\n        ")])]:e._e()],2),a("div",{staticClass:"member_head"},[e.userInfo?a("div",{staticClass:"flex-row-center z_yh"},["普通用户"===e.userInfo.rank_name||"免费用户"===e.userInfo.rank_name?a("img",{staticClass:"rank_img",attrs:{src:n("32d6")}}):"VIP"===e.userInfo.rank_name?a("img",{staticClass:"rank_img",attrs:{src:n("615d")}}):"银商"===e.userInfo.rank_name?a("img",{staticClass:"rank_img",attrs:{src:n("16e1")}}):"金商"===e.userInfo.rank_name?a("img",{staticClass:"rank_img",attrs:{src:n("3744")}}):"钻商"===e.userInfo.rank_name?a("img",{staticClass:"rank_img",attrs:{src:n("89e2")}}):e._e(),a("span",{staticClass:"rank-name"},[e._v(e._s(e.userInfo.rank_name))])]):e._e(),"普通用户"===e.userInfo.rank_name?a("div",{staticClass:"z_percentage"},[e._m(0)]):e._e(),"VIP"===e.userInfo.rank_name?a("div",{staticClass:"z_percentage"},[e._m(1)]):e._e(),"银商"===e.userInfo.rank_name?a("div",{staticClass:"z_percentage"},[e._m(2)]):e._e(),"金商"===e.userInfo.rank_name?a("div",{staticClass:"z_percentage"},[e._m(3)]):e._e(),"钻商"===e.userInfo.rank_name?a("div",{staticClass:"z_percentage"},[e._m(4)]):e._e(),"大区服务商"===e.userInfo.rank_name?a("div",{staticClass:"z_percentage"},[e._m(5)]):e._e(),"全国运营中心"===e.userInfo.rank_name?a("div",{staticClass:"z_percentage"},[e._m(6)]):e._e(),"战略合作伙伴"===e.userInfo.rank_name?a("div",{staticClass:"z_percentage"},[e._m(7)]):e._e()]),a("div",{staticClass:"explain_warp flex bgfff flex_align"},[e._m(8),e._m(9),a("div",{staticClass:"explain_foot"},[a("i",{staticClass:"iconfont icon-xiangqing icon_question",on:{click:function(t){e.explainDialog=!0}}})])]),a("div",{staticClass:"meal_warp bgf8f8f8"},[e._m(10),a("div",{staticClass:"meal_items"},e._l(e.feeUpgradeEnableFeeList,(function(t,n){return a("div",{key:t.rank.id,staticClass:"meal-item",class:{updated:t.rank.rank_order<=e.userInfo.rank_order,selected:e.currentSelect===n},on:{click:function(t){return e.toggle(n)}}},[t.rank.rank_order<=e.userInfo.rank_order?a("div",{staticClass:"rank-updated"},[e._v("\n            已升级\n          ")]):e._e(),a("div",{staticClass:"rank-name",class:{updated:t.rank.rank_order<=e.userInfo.rank_order}},[e._v("\n            "+e._s(t.rank.rank_name)+"\n          ")]),a("div",{staticClass:"rank-money",class:{updated:t.rank.rank_order<=e.userInfo.rank_order}}),a("div",{staticClass:"rank-update",class:{updated:t.rank.rank_order<=e.userInfo.rank_order}},[e._v("\n            推荐升级\n          ")])])})),0),a("div",{staticClass:"tjbox"},[e._m(11),a("p",{staticClass:"tuijian"},[e._v("\n          直推人数："),a("span",{staticClass:"cy"},[e._v(e._s(e.critical_reference_count)+"个"+e._s(e.min_effective_reference_rank_order_name))]),a("span",{staticStyle:{color:"#333",padding:"0 4px"}},[e._v("且")]),e._v("\n          团队人数："),a("span",{staticClass:"cy"},[e._v(e._s(e.critical_reference_team_count)+"个"+e._s(e.min_effective_reference_team_rank_order_name))])])])])]),e.rateDialog?a("fee-list",{attrs:{"fee-detail-msg":e.feeDetailMsg},on:{valueClose:e.valueClose}}):e._e(),a("van-dialog",{attrs:{"show-confirm-button":e.showFalse,"close-on-click-overlay":""},model:{value:e.explainDialog,callback:function(t){e.explainDialog=t},expression:"explainDialog"}},[a("div",[a("div",{staticClass:"explain_title"},[a("h5",[e._v("服务商说明")])]),a("div",{staticClass:"explain_content"},[a("p",[e._v("成为服务商后可以获得平台更多的让利和服务，不同类型的服务商所有享受的费率和分润都不一样，级别越高，费率越低，分润越高，详情可咨询平台客服")])]),a("div",{staticClass:"cen mb40"},[a("button",{staticClass:"btn btn_confirm",attrs:{type:"button"},on:{click:function(t){e.explainDialog=!1}}},[e._v("\n          知道了\n        ")])])])]),a("van-dialog",{attrs:{"show-confirm-button":!1,"close-on-click-overlay":""},model:{value:e.codeDialog,callback:function(t){e.codeDialog=t},expression:"codeDialog"}},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("qrcode",{attrs:{id:"qrcodeImg",value:e.codeValue,src:e.codeValue,options:{width:144},tag:"img"}})],1),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("span",{staticClass:"size36 bold"},[e._v("选使用微信扫码付费")])])]),a("van-actionsheet",{attrs:{actions:e.actions,"cancel-text":"取消"},on:{select:e.y_onTypeSelect,cancel:e.y_nTypeCancel},model:{value:e.y_showTypeSelect,callback:function(t){e.y_showTypeSelect=t},expression:"y_showTypeSelect"}}),a("van-actionsheet",{attrs:{actions:e.actions,"cancel-text":"取消"},on:{select:e.onTypeSelect,cancel:e.onTypeCancel},model:{value:e.showTypeSelect,callback:function(t){e.showTypeSelect=t},expression:"showTypeSelect"}})],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div1"},[n("p",{attrs:{id:"p1"}},[n("span",[e._v("费率低至:")]),e._v(" 0.72%+1\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div1"},[n("p",{attrs:{id:"p1"}},[n("span",[e._v("费率低至:")]),e._v(" 0.52%+1\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div1"},[n("p",{attrs:{id:"p1"}},[n("span",[e._v("费率低至:")]),e._v(" 0.50%+1\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div1"},[n("p",{attrs:{id:"p1"}},[n("span",[e._v("费率低至:")]),e._v(" 0.45%+1\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div1"},[n("p",{attrs:{id:"p1"}},[n("span",[e._v("费率低至:")]),e._v(" 0.42%+1\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div1"},[n("p",{attrs:{id:"p1"}},[n("span",[e._v("费率低至:")]),e._v(" 0.40%+1\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div1"},[n("p",{attrs:{id:"p1"}},[n("span",[e._v("费率低至:")]),e._v(" 0.38%+1\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"div1"},[n("p",{attrs:{id:"p1"}},[n("span",[e._v("费率低至:")]),e._v(" 0.36%+1\n          ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"explain_head"},[n("i",{staticClass:"icon_memberMsg"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"explain_main"},[n("h5",{staticClass:"explain_main-text1"},[e._v("\n          服务商优势\n        ")]),n("p",{staticClass:"explain_main-text2"},[e._v("\n          费率更低 收益更高\n        ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"meal_title flex-row-between"},[n("span",{staticClass:"update-package"},[e._v("选择服务商类型")]),n("span",{staticClass:"size24 maincolor",staticStyle:{display:"none"}},[e._v("升级记录")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"meal_title flex-row-between",staticStyle:{"padding-top":"15px","margin-left":"-5px"}},[n("span",{staticClass:"update-package"},[e._v("推荐升级条件")])])}],i=n("3fce"),r=n("2c92"),o=n("88ad");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l={name:"Member",components:{topMsg:r["a"],feeList:o["a"],Qrcode:i["a"]},data:function(){return{critical_reference_count:"",critical_reference_team_count:"",min_effective_reference_rank_order_name:"",min_effective_reference_team_rank_order_name:"",J_udge:"APIyun",currentSelect:0,rateDialog:!1,explainDialog:!1,showFalse:!1,showServerDialog:!1,feeList:[],feeDetailMsg:"",userFeeMsg:"",isLoading:"",codeDialog:!1,codeValue:"",showTypeSelect:!1,y_showTypeSelect:!1,userInfoIndex:"",grade:"",actions:[{name:"微信支付",id:"1"}],selectedPayMethod:"1",update_fee:"0"}},computed:{userInfo:function(){return this.$store.state.userInfo},rankOrder:function(){return this.$store.state.userInfo.rank_order},feeUpgradeEnableFeeList:function(){var e=this.feeList.filter((function(e){return e.rank&&e.rank.enable_fee_upgrade}));return e}},watch:{$route:"getMemberFeeMsgFun"},created:function(){this.$store.commit("SET_KEEP_ALIVE",this.$options.name),this.isLoading=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"加载中..."}),this.thisTitle(),this.userInfo||this.$store.dispatch("GetUserInfo"),this.getMemberFeeMsgFun(),console.log(this.userInfo)},mounted:function(){},methods:{fn:function(e){this.critical_reference_count=this.feeUpgradeEnableFeeList[e].rank.critical_reference_count,this.critical_reference_team_count=this.feeUpgradeEnableFeeList[e].rank.critical_reference_team_count,this.min_effective_reference_rank_order_name=this.feeUpgradeEnableFeeList[e].min_effective_reference_rank_order_name,this.min_effective_reference_team_rank_order_name=this.feeUpgradeEnableFeeList[e].min_effective_reference_team_rank_order_name,"普通用户"===this.min_effective_reference_rank_order_name&&(this.min_effective_reference_rank_order_name="实名有效用户")},z_pack:function(){var e=this;this.$api.login.getclientTextShowConfig({name:"APP打包方式"}).then((function(t){t.data.data&&t.data.data["APP打包方式"]&&(e.J_udge=t.data.data["APP打包方式"])})).catch((function(e){console.log(e)}))},thisTitle:function(){document.title="会员中心"},toggle:function(e){this.currentSelect=e,this.update_fee=(this.feeUpgradeEnableFeeList[e].rank.upgrade_fee/100).toFixed(0),console.log("enter: ",this.currentSelect),console.log("enter: ",c(this.currentSelect)),console.log(this.feeUpgradeEnableFeeList[e]),this.fn(e)},getMemberFeeMsgFun:function(){var e=this;e.$api.member.getMemberFeeMsg().then((function(t){t=t.data,e.feeList=t.data,e.fn(0),e.feeList.forEach((function(t,n,a){t.rank.rank_order===e.rankOrder&&(t.index=n,t.nextFee=a[n+1]||"",e.userFeeMsg=t,console.log("会员1235232135654645654"),console.log(e.userFeeMsg.index),e.grade=e.userFeeMsg.index)})),e.isLoading.clear()})).catch((function(t){e.isLoading.clear(),console.log("获取会员费用信息 error: ",t)}))},valueClose:function(e){this.rateDialog=e},gotoFeeDetail:function(e){this.feeDetailMsg=e,this.rateDialog=!0},computeRate:function(e){return e?(100*e).toFixed(2):99},computeFee:function(e){return e?(e/100).toFixed(2):99},upgradeMember:function(e){var t=this,n=this,a=n.feeUpgradeEnableFeeList[n.currentSelect],s={target_rank_order:a.rank.rank_order};console.log("upgradeMember data: ",s),console.log("upgradeMember msg: ",a),console.log("upgradeMember that.feeUpgradeEnableFeeList: ",n.feeUpgradeEnableFeeList),"1"===e?this.$dialog({title:"温馨提示",message:"您购买服务包成功后，系统将3分钟内自动为您改变服务等级！",confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",cancelButtonColor:"#1989fa"}).then((function(){n.$api.member.upgradeOrder(s).then((function(e){if(e=e.data,console.log(e),e.data.url){console.log("res.data.url: ",e.data.url),t.$store.commit("CLEAR_KEEP_ALIVE",t.$options.name);var a=navigator.userAgent,s=a.indexOf("Android")>-1||a.indexOf("Adr")>-1,i=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),r="支付###"+e.data.url+"###http://www.zhsc198.com/";if(console.log("--start 调用微信支付--"),console.log(r),s&&baiwangxinxi.OpenWechat(r),i){var o={title:"支付",url:e.data.url,referer:"http://www.zhsc198.com/"};window.webkit.messageHandlers.OpenWechat.postMessage(o)}}else n.$toast("升级失败！")}))})).catch((function(e){console.log("下单 微信 err: ",e)})):"2"===e&&n.$api.member.x_upgradeOrder(s).then((function(e){e=e.data,console.log("快捷 res: ",e),e.data.url?(console.log("res.data.url: ",e.data.url),t.$store.commit("CLEAR_KEEP_ALIVE",t.$options.name),t.$openThirdLinks("",e.data.url,"支付","2")):n.$toast("升级失败！")})).catch((function(e){console.log("下单 快捷 err: ",e)}))},judgeRankClass:function(e){return this.feeUpgradeEnableFeeList[e].rank.rank_order<=this.userInfo.rank_order?"meal_item-upgrade":this.currentSelect===e?"meal_item-active":""},y_openTypeSelect:function(){this.y_showTypeSelect=!0},y_nTypeCancel:function(){this.y_showTypeSelect=!1},y_onTypeSelect:function(e){this.y_showTypeSelect=!1,this.y_upgradeMember(e.id)},y_upgradeMember:function(e){var t=this,n=this,a=n.feeUpgradeEnableFeeList[n.currentSelect],s={target_rank_order:a.rank.rank_order};console.log("upgradeMember data: ",s),console.log("upgradeMember msg: ",a),console.log("upgradeMember that.feeUpgradeEnableFeeList: ",n.feeUpgradeEnableFeeList),"1"===e&&this.$dialog({title:"温馨提示",message:"您购买服务包成功后，系统将3分钟内自动为您改变服务等级！",confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",cancelButtonColor:"#1989fa"}).then((function(){n.$api.member.upgradeOrder(s).then((function(e){e=e.data,console.log(e),e.data.url?(console.log("res.data.url: ",e.data.url),t.$store.commit("CLEAR_KEEP_ALIVE",t.$options.name),t.$openThirdLinks("",e.data.url,"支付")):n.$toast("升级失败！")}))})).catch((function(e){console.log("下单 微信 err: ",e)}))},openTypeSelect:function(){this.showTypeSelect=!0},onTypeSelect:function(e){this.showTypeSelect=!1,this.upgradeMember(e.id)},onTypeCancel:function(){this.showTypeSelect=!1}}},_=l,u=(n("3768"),n("2877")),d=Object(u["a"])(_,a,s,!1,null,"3d235e9a",null);t["default"]=d.exports},"32d6":function(e,t,n){e.exports=n.p+"static/img/pt.660b7e4c.png"},3744:function(e,t,n){e.exports=n.p+"static/img/js.5bbd3541.png"},3768:function(e,t,n){"use strict";var a=n("473e"),s=n.n(a);s.a},"473e":function(e,t,n){},5902:function(e,t,n){},"615d":function(e,t,n){e.exports=n.p+"static/img/VIP.3df5215c.png"},"73ec":function(e,t,n){"use strict";var a=n("e031"),s=n.n(a);s.a},"88ad":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-dialog",{attrs:{"show-confirm-button":e.showFalse,"before-close":e.beforeClose,"close-on-click-overlay":""},model:{value:e.rateDialog,callback:function(t){e.rateDialog=t},expression:"rateDialog"}},[n("div",{staticClass:"rate_table"},[n("div",{staticClass:"table_title"},[n("h5",{staticClass:"z_h5"},[e._v(e._s(e.feeDetailMsg.rank.rank_name)+"费率表")])]),n("div",{staticClass:"table_content"},[n("div",{staticClass:"con_tr flex flex_align"},[n("span",{staticClass:"con_th w40"},[e._v("通道名称")]),n("span",{staticClass:"con_th w30 cen"},[e._v("费用")]),n("span",{staticClass:"con_th w30 textalign_right"},[e._v("结算")])]),e._l(e.feeDetailMsg.channel_list,(function(t,a){return n("div",{key:a,staticClass:"con_tr flex flex_align"},[n("span",{staticClass:"con_td w40 textEllipsis"},[e._v(e._s(t.channel_name))]),n("span",{staticClass:"con_td w30 cen"},[e._v(e._s(e.computeRate(t.big_decimal))+"%")]),n("span",{staticClass:"con_td w30 textalign_right"},[e._v(e._s(e.computeFee(t.fee))+"元/笔")])])}))],2),n("div",{staticClass:"cen"},[n("button",{staticClass:"btn btn_confirm",attrs:{type:"button"},on:{click:e.closeDialog}},[e._v("知道了")])])])])],1)},s=[],i={name:"FeeList",props:{feeDetailMsg:{type:Object,default:function(){}},required:{type:Boolean,default:!0}},data:function(){return{hello:"費率",rateDialog:!0,showFalse:!1}},created:function(){},methods:{thisTitle:function(){document.title="费率表"},beforeClose:function(e,t){t(),this.$emit("valueClose",!1)},closeDialog:function(){this.$emit("valueClose",!1)},computeRate:function(e){return e?(100*e).toFixed(2):99},computeFee:function(e){return e?(e/100).toFixed(2):99}}},r=i,o=(n("9ca1"),n("73ec"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"0e6f0e2c",null);t["a"]=c.exports},"89e2":function(e,t,n){e.exports=n.p+"static/img/zs.0e756ab1.png"},"9ca1":function(e,t,n){"use strict";var a=n("5902"),s=n.n(a);s.a},e031:function(e,t,n){}}]);