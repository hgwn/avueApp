(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["forgetPassword"],{"279b":function(t,e,o){"use strict";var s=o("7224"),i=o.n(s);i.a},"2c92":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isWechat?t._e():o("div",{staticClass:"header"},[o("div",{staticClass:"header_body"},[o("span",{staticClass:"goBack",on:{click:t.goBack}},[o("van-icon",{attrs:{name:"arrow-left"}})],1),o("div",{staticClass:"flex-vertical-centering"},[o("p",{staticClass:"textEllipsis",on:{click:t.showLog}},[t._v("\n        "+t._s(t.headerName)+"\n      ")])]),t.shareShow?o("span",{staticClass:"shareSheet",on:{click:t.shareSheet}},[t._v("分享")]):t._e()])])},i=[],n={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0},shareShow:{type:Boolean,default:!1}},data:function(){return{clickNum:0}},computed:{isWechat:function(){return this.$store.state.isWechat}},watch:{$route:function(){this.clickNum=0}},created:function(){},methods:{goBack:function(){var t=this;t.$router.go(-1)},shareSheet:function(){this.$emit("shareSheet")},showLog:function(){if(this.clickNum++,5===this.clickNum){this.clickNum=0;var t=document.getElementsByClassName("vc-switch")[0],e=window.getComputedStyle(t,null).getPropertyValue("display");"block"===e?VCONSOLE.hide():VCONSOLE.show()}}}},a=n,c=(o("c411"),o("2877")),r=Object(c["a"])(a,s,i,!1,null,"5db562cc",null);e["a"]=r.exports},7224:function(t,e,o){},b24c:function(t,e,o){},c411:function(t,e,o){"use strict";var s=o("b24c"),i=o.n(s);i.a},e179:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bgfff forget-pwd-wrap"},[o("div",{staticClass:"con_body"},[o("top-msg",{attrs:{"header-name":"忘记密码"}}),o("div",{staticClass:"form_cells"},[o("div",{staticClass:"cells_title"},[t._v("\n        找回密码\n      ")]),o("div",{staticClass:"form_cell"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.tel,expression:"tel",modifiers:{trim:!0}}],staticClass:"form_input",attrs:{type:"tel",placeholder:"请输入注册的手机号",maxlength:"11"},domProps:{value:t.tel},on:{input:function(e){e.target.composing||(t.tel=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),o("div",{staticClass:"form_cell"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.code,expression:"code",modifiers:{trim:!0}}],staticClass:"form_input",attrs:{type:"tel",maxlength:"6",placeholder:"请输入验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),o("div",{staticClass:"get-code",on:{click:t.getCode}},[t._v("\n          "+t._s(t.code_text)+"\n        ")])]),o("div",{staticClass:"form_cell"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form_input",attrs:{maxlength:"18",type:"password",placeholder:"请设置新的密码（6~12个数字或字母）"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),o("div",{staticClass:"form_cell"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.repassword,expression:"repassword",modifiers:{trim:!0}}],staticClass:"form_input",attrs:{maxlength:"18",type:"password",placeholder:"请再次设置新的密码"},domProps:{value:t.repassword},on:{input:function(e){e.target.composing||(t.repassword=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),o("button",{staticClass:"btn btn_submit",on:{click:t.submitReset}},[t._v("\n        提交\n      ")])]),1==t.bg?o("div",{staticClass:"bg"}):t._e(),1==t.Popover?o("div",{staticClass:"flex-column-center",attrs:{id:"Popover"}},[o("i",{class:["iconfont",1==t.judge?"icon-gou maincolor":"icon-guanbi color999"]}),o("span",[t._v(t._s(1==t.judge?"密码重置成功":"密码重置失败"))]),o("div",{staticClass:"btn btn_submit pbtn",on:{click:function(e){1==t.judge?t.successgo():t.popoverhide()}}},[t._v("\n        "+t._s(1==t.judge?"去登录":"返回")+"\n      ")])]):t._e()],1)])},i=[],n=o("2c92"),a={name:"ForgetPassword",components:{topMsg:n["a"]},data:function(){return this.timer=null,this.code_idx=60,{tel:"",code:"",code_text:"获取验证码",codeToken:"",password:"",repassword:"",bg:0,Popover:0,judge:1}},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},methods:{thisTitle:function(){document.title="找回密码"},getCode:function(){var t=this;if(!this.timer){var e=function(e){return t.$dialog({title:e,showCancelButton:!1,confirmButtonText:"确定",className:"dialog",closeOnClickOverlay:!0})};if(""!==this.tel)if(this.$util.isPhone(this.tel)){this.code_idx--,this.code_text="".concat(this.code_idx,"秒后重发"),this.timer=setInterval((function(){t.code_idx--,t.code_idx<0?(clearInterval(t.timer),t.timer=null,t.code_text="获取验证码",t.code_idx=60):t.code_text="".concat(t.code_idx,"秒后重发")}),1e3);var o={phone:this.tel};this.$api.login.getCode(o).then((function(e){console.log(e),t.codeToken=e.data.data.token})).catch((function(t){console.log(t)}))}else e("请输入正确的手机号");else e("请输入手机号")}},submitReset:function(){var t=this,e=function(e){return t.$dialog({title:e,showCancelButton:!1,confirmButtonText:"确定",cancelButtonText:"确定",className:"dialog",closeOnClickOverlay:!0})};if(t.tel)if(t.$util.isPhone(t.tel))if(t.code)if(t.password&&t.repassword)if(t.password.length<6)e("密码最短为 6 个字符");else if(t.password!==t.repassword)e("两次输入的密码不一致，请重新输入");else{var o={code_input:t.code,code_token:t.codeToken,password:t.password,phone:t.tel};t.$api.login.retrievePassword(o).then((function(){t.judge=1,t.popovershow()})).catch((function(){t.judge=0,t.popovershow()}))}else e("请输入您的新密码");else e("请输入收到的验证码");else e("请输入正确的手机号码");else e("请输入您的手机号码")},popovershow:function(){this.bg=1,this.Popover=1},popoverhide:function(){this.bg=0,this.Popover=0},successgo:function(){this.$router.push("/login")}}},c=a,r=(o("279b"),o("2877")),l=Object(r["a"])(c,s,i,!1,null,"4d9be554",null);e["default"]=l.exports}}]);