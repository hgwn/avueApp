(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["planList"],{"2c92":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isWechat?t._e():a("div",{staticClass:"header"},[a("div",{staticClass:"header_body"},[a("span",{staticClass:"goBack",on:{click:t.goBack}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("div",{staticClass:"flex-vertical-centering"},[a("p",{staticClass:"textEllipsis",on:{click:t.showLog}},[t._v("\n        "+t._s(t.headerName)+"\n      ")])]),t.shareShow?a("span",{staticClass:"shareSheet",on:{click:t.shareSheet}},[t._v("分享")]):t._e()])])},n=[],i={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0},shareShow:{type:Boolean,default:!1}},data:function(){return{clickNum:0}},computed:{isWechat:function(){return this.$store.state.isWechat}},watch:{$route:function(){this.clickNum=0}},created:function(){},methods:{goBack:function(){var t=this;t.$router.go(-1)},shareSheet:function(){this.$emit("shareSheet")},showLog:function(){if(this.clickNum++,5===this.clickNum){this.clickNum=0;var t=document.getElementsByClassName("vc-switch")[0],e=window.getComputedStyle(t,null).getPropertyValue("display");"block"===e?VCONSOLE.hide():VCONSOLE.show()}}}},l=i,c=(a("88d0"),a("2877")),o=Object(c["a"])(l,s,n,!1,null,"0fe7e72d",null);e["a"]=o.exports},"3ea7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADxElEQVRYR82Yf2gbZRjHv9+7ptUVZJhphYkoOP8Q9Z8qrqOapE6GIFMRpzhN7+YfazKHUCgM/CcO0aJoocTLBo6kBh1rRR2CsLXmsglTQe1f4o8pCloctA6nibXSu0cuNVnSNu1dctO8EMglz/N9Pnnufb/3viE8DnNE24h27gDlXhDXi/BaEpshWARkRoAZgN/bkJNW0ZrcMZQteilBt8G5Q/oDtPEMiF4AAZd5fwEwhfYrfQNjH7rJWRcoZ+ghUoYBbnUjWD9GJm2LB+55Ov3FWjp1gcbHH1E3ne8coXB/cyAXswWwCXk2EssM19NcFejM609dufC3fQzEdr9gqnVImRCruCeyb6KwXH8F0OlR/SqrTT4FecOlgClrCuTzy+aLd20bnJivga2+OHy4O7DFvnWK4N2XEuYiFI72xdK7AUj5s5oOmYaWAjnwX8BUzaxEJJZ5bgWQmdLCAE2vMF1btuLG3t1YXPgTX55IovDrT54kRGCrsnhLaF/2Kyex0qGcoX1C8k4valTa0LsnCbWtvZR24ZezmD7+oheJUixF3gnHMw9XgExDexDku16V2jdsxLboq5W0heJv+Dg76FXGmUJiW7zd8ahSh0xD/+hfB/Yk5h9QaVaP98XSj3IqGQ2qinoORJsnGgA+A52fCxaupmno/SAyXmGceD+BSvUXJeIAZUE80RJAkGHmU9opadAI/e4QIW8xZ2jfkLypXofKPhPo6GykiZWc+d9nXfiU5JlL6UUCG1arttxnmiJy4VMi8q3ToQskr1gdSEWvnoQa6GiWZck4z32H6fdeqKtVBmqtW9Zykzpv6GNCRBu5J36vMjjLPmdoj5N8syWAHGNslUcHgLnZYOGapYdrSjMBhr12yc9bRsEb4Xi6vwSUM/p3ksrx/w9IRIHaHYodma5s0MyUfgZAjxcoKrU+tZ7PrGFAxyLxzGOVDZrzZioZ7VFV1YHyNJrdwjpHcEWRm0MDmbM1QM5F/pD2kgiHPBE1GUxgMBxLj5Rlak4diQSUUJf+NoCHmqzjKl2AVF8sHa8OXnFQPPHyk52BTvUUyW5Xqg0HyeRssHjfrl0T1ppAzpcfjO7vuDzwxxGAziHO9yHAyFywMLQcZsUcWl7ZTGkHAD4PQPWJagGCvZF4eqye3rp/x5w2ordZVA8CshPguvGrFRKIRZGjisKD5dXUMFA5Mf+adocoiIvwfhKbXHbsZxH7faocjezNfO0mx/MvlkRCMbt+6CG4neB1AmzG0ssSyIwCzNiCH6lYJyMD2c/cQFTH/APz4KymnbiUAgAAAABJRU5ErkJggg=="},5741:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"plan-list-page"},[s("div",{staticClass:"top"},[s("img",{attrs:{src:a("e3ee")},on:{click:function(e){return t.$router.push("/home")}}}),s("div",{staticClass:"text"},[t._v("\n      "+t._s(t.text)+"\n    ")])]),s("van-tabs",{attrs:{"swipe-threshold":5},on:{click:t.changeTab},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabList,(function(t,e){return s("van-tab",{key:e,attrs:{title:t.text}})})),1),s("van-list",{attrs:{finished:t.finished,"finished-text":"已加载完毕"},on:{load:t.userRepayPlanListFun},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("ul",{staticClass:"list"},t._l(t.checkPlanList,(function(e,a){return s("li",{key:a,staticClass:"item clear",on:{click:function(a){return t.$router.push("/planDetails?id="+e.json_trade_no)}}},[s("div",{staticClass:"clear title"},[s("i",{staticClass:"iconfont icon-dingdan maincolor lt"}),s("span",{staticClass:"lt text"},[t._v("订单号："+t._s(e.json_trade_no))]),s("span",{class:{"rt status":!0,status1:"EXECUTING"===e.repay_plan_info.execute_state,status2:"SUCCESS"===e.repay_plan_info.execute_state,status3:"FAILED"===e.repay_plan_info.execute_state}},[t._v("\n            "+t._s("WAITING"===e.repay_plan_info.execute_state?"等待执行":"EXECUTING"===e.repay_plan_info.execute_state?"执行中":"SUCCESS"===e.repay_plan_info.execute_state?"执行成功":"失败")+"\n          ")])]),s("ul",{staticClass:"item-list"},[s("li",{staticClass:"list-item clear"},[s("span",{staticClass:"lt text"},[t._v(t._s(e.repay_plan_info.channel_code))])]),s("li",{staticClass:"list-item clear"},[s("img",{staticClass:"lt",attrs:{src:e.bank.bank_logo_image&&e.bank.bank_logo_image.url}}),s("span",{staticClass:"lt text"},[t._v(t._s(e.bank.name)+"（尾号"+t._s(e.repay_plan_info.bank_card_no.substr(-4,4))+"）")]),s("span",{staticClass:"rt text"},[t._v(t._s(t._f("timeToFormatDate")(e.create_time)))])]),s("li",{staticClass:"list-item dec clear"},[s("span",{staticClass:"lt dec-text"},[t._v("订单总金额：¥"+t._s(e.repay_plan_info.order_total_money))]),s("span",{staticClass:"rt dec-text"},[t._v("账单金额：¥"+t._s(e.repay_plan_info.repay_sum_amount))])]),s("li",{staticClass:"list-item dec clear"},[s("span",{staticClass:"lt dec-text"},[t._v("费率："+t._s((100*e.repay_plan_info.consume_rate).toFixed(2))+"%,"+t._s((100*e.repay_plan_info.big_money_user_rate).toFixed(2))+"%")]),s("span",{staticClass:"rt dec-text"},[t._v("账单手续费：¥"+t._s(e.repay_plan_info.consume_service_fee))])]),s("li",{staticClass:"list-item dec clear"},[s("span",{staticClass:"lt dec-text"},[t._v("单笔费用：¥"+t._s(e.repay_plan_info.repay_fee)+"/笔")]),s("span",{staticClass:"rt dec-text"},[t._v("账单笔数费：¥"+t._s(e.repay_plan_info.repay_service_fee))])]),s("li",{staticClass:"list-item dec clear"},[t.zhjShow?s("span",{staticClass:"lt dec-text"},[t._v(t._s(t.refundName)+"：¥"+t._s(e.repay_plan_info.fee_refund_money))]):t._e(),s("span",{staticClass:"rt dec-text"},[t._v("总手续费：¥"+t._s(e.repay_plan_info.order_total_fee))])]),"FAILED"===e.repay_plan_info.execute_state&&e.repay_plan_info.fail_info?s("li",{staticClass:"reason"},[t._v("\n            "+t._s(e.repay_plan_info.fail_info)+"\n          ")]):t._e()])])})),0)]),t.pflag?s("div",{staticClass:"add-btn"},[s("span",{staticClass:"pl",on:{click:function(e){t.showSelectChannel=!0}}},[s("img",{attrs:{src:a("3ea7"),alt:""}}),t._v("添加智能计划")]),s("span",{staticClass:"pr",on:{click:function(e){return t.gotoPage()}}},[s("img",{attrs:{src:a("845a"),alt:""}}),t._v("添加懒人计划")])]):s("div",{staticClass:"add-btn"},[s("span",{staticClass:"pl pc",on:{click:function(e){t.showSelectChannel=!0}}},[s("img",{attrs:{src:a("3ea7"),alt:""}}),t._v("添加智能计划")])]),s("van-popup",{staticClass:"select-channel",attrs:{position:"bottom"},model:{value:t.showSelectChannel,callback:function(e){t.showSelectChannel=e},expression:"showSelectChannel"}},[s("select-channel")],1)],1)},n=[],i=a("c466"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-channel-page"},[a("div",{staticClass:"title-text"},[t._v("\n    请选择通道\n  ")]),a("ul",{staticClass:"list"},t._l(t.list,(function(e,s){return a("li",{key:s,class:{item:!0,on:t.activeId===s},on:{click:function(a){return t.selectedChannel(e,s)}}},[a("img",{attrs:{src:e.logo_image&&e.logo_image.url}}),a("div",{staticClass:"text"},[a("div",{staticClass:"name"},[t._v("\n          "+t._s(e.name)+"\n        ")]),a("div",{staticClass:"clear"},[a("span",{staticClass:"lt dec-text"},[t._v("费率："+t._s((100*e.rate).toFixed(2))+"% , "+t._s((100*e.big_money_user_rate).toFixed(2))+"% ")]),a("span",{staticClass:"rt dec-text"},[t._v("交易时间："+t._s(e.start_time)+"-"+t._s(e.end_time))])]),a("div",{staticClass:"tip textEllipsis"},[t._v("\n          提示："+t._s(e.intro)+"\n        ")])]),a("span",{staticClass:"detail-btn",on:{click:function(a){return t.showDetailFun(e)}}},[t._v("\n        通道详情\n        "),a("i",{staticClass:"iconfont icon-gengduo"})])])})),0),a("div",{staticClass:"add-btn",on:{click:function(e){return t.$router.push("/addPlan?code="+t.selectedChannelItem.code)}}},[t._v("\n    确定\n  ")]),a("van-popup",{staticClass:"detail",model:{value:t.showDetail,callback:function(e){t.showDetail=e},expression:"showDetail"}},[a("img",{staticClass:"img",attrs:{src:t.showDetailItem.logo_image&&t.showDetailItem.logo_image.url}}),a("div",{staticClass:"name"},[t._v("\n      "+t._s(t.showDetailItem.name)+"\n    ")]),a("div",{staticClass:"dec-text"},[t._v("\n      费率："+t._s((100*t.showDetailItem.rate).toFixed(2))+"%, "+t._s((100*t.showDetailItem.big_money_user_rate).toFixed(2))+"% \n    ")]),a("div",{staticClass:"dec-text"},[t._v("\n      交易时间："+t._s(t.showDetailItem.start_time)+" - "+t._s(t.showDetailItem.end_time)+"\n    ")]),a("div",{staticClass:"tip"},[a("span",{domProps:{innerHTML:t._s(t.showDetailItem.description)}})]),a("div",{staticClass:"add-btn",on:{click:function(e){t.showDetail=!1}}},[t._v("\n      确定\n    ")])])],1)},c=[],o={name:"SelectChannel",data:function(){return{showDetail:!1,list:[],selectedChannelItem:{},showDetailItem:{},activeId:0}},created:function(){this.repayChannelListFun()},methods:{repayChannelListFun:function(){var t=this;this.$api.plan.repayChannelList().then((function(e){console.log(e),t.list=e.data.data,t.list.length>0&&(t.selectedChannelItem=t.list[0])}))},selectedChannel:function(t,e){this.selectedChannelItem=t,this.activeId=e,this.showDetailFun(t)},showDetailFun:function(t){this.showDetailItem=t,this.showDetail=!0}}},r=o,u=(a("d8cc"),a("2877")),h=Object(u["a"])(r,l,c,!1,null,"a1a8bf64",null),p=h.exports,d=a("2c92"),f={name:"PlanList",filters:{timeToFormatDate:i["b"]},components:{selectChannel:p,topMsg:d["a"]},data:function(){return{pflag:!0,zhjShow:!0,refundName:"智慧金",go_router:"",text:"计划列表",showSelectChannel:!1,active:-1,z_sum:"",tabList:[{id:0,text:"全部"},{id:1,text:"等待执行"},{id:2,text:"执行中"},{id:3,text:"执行成功"},{id:4,text:"失败"}],planList:[],loading:!1,finished:!1,currPage:0,userate:""}},computed:{cRate:function(){return this.$store.state.cRate},checkPlanList:function(){var t=this.planList,e=[],a=!0,s=!1,n=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var c=i.value;0===this.active?e.push(c):1===this.active&&"WAITING"===c.repay_plan_info.execute_state?e.push(c):2===this.active&&"EXECUTING"===c.repay_plan_info.execute_state?e.push(c):3===this.active&&"SUCCESS"===c.repay_plan_info.execute_state?e.push(c):4===this.active&&"FAILED"===c.repay_plan_info.execute_state&&e.push(c)}}catch(o){s=!0,n=o}finally{try{a||null==l.return||l.return()}finally{if(s)throw n}}return e}},created:function(){console.log("计划列表"),document.title="计划列表",this.search()},mounted:function(){this.getshow()},methods:{getshow:function(){var t=this;this.$api.plan.getFunction({groupName:"添加计划",functionName:"懒鬼计划"}).then((function(e){console.log(e),"on"===e.data.data[0].enable?(t.pflag=!0,t.go_router=e.data.data[0].go_router):t.pflag=!1}))},gotoPage:function(){this.$router.push({path:"/v3hiframe",query:{title:"代还计划",url:this.go_router+"?token="+localStorage.getItem("Client-Token"),refer:"/planList"}})},search:function(){this.z_sum=this.repay_plan_info.consume_service_fee+this.repay_plan_info.repay_fee,console.log(this.z_sum)},changeTab:function(t,e,a){this.active=t,this.reflesh(),this.userRepayPlanListFun()},reflesh:function(){this.planList=[],this.currPage=0,this.finished=!1},userRepayPlanListFun:function(){var t=this;this.loading=!0;var e={};0===this.active?e={page:this.currPage,size:7}:1===this.active?e={page:this.currPage,size:10,state:"WAITING"}:2===this.active?e={page:this.currPage,size:10,state:"EXECUTING"}:3===this.active?e={page:this.currPage,size:10,state:"SUCCESS"}:4===this.active&&(e={page:this.currPage,size:10,state:"FAILED"}),this.$api.plan.userRepayPlanList(e).then((function(e){t.loading=!1,console.log(e.data.data);var a=e.data.data.repay_plans,s=!0,n=!1,i=void 0;try{for(var l,c=a[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var o=l.value;t.planList.push(o)}}catch(r){n=!0,i=r}finally{try{s||null==c.return||c.return()}finally{if(n)throw i}}0===a.length?t.finished=!0:(t.finished=!1,t.currPage++)}))}}},g=f,_=(a("dae3"),Object(u["a"])(g,s,n,!1,null,"1281cc6a",null));e["default"]=_.exports},"7e1e":function(t,e,a){},"845a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADJUlEQVRYR82YW4hNURjHf3+30ZiRGJciEXlg8mDIJdeiScklD4RmygsxUjQlXpg8TArlxZPruOQSyZshZHIpl0eMlAeKEinjMmbm03fMns6cOXNmr3POaFbtTuec7/uv315r7f/a3xKBzcyGAeXAMmACMA4YC7QAH9qvt8AtoF5SU0gXihtsZquAncB8YGDMvF/AXeCwpDtxcnoEMrNFQC0wJ45ghph6YI+k55l0ugUys/7AUWBHjiDJ6W3APkl+g2lbWiAzGw5cApbmESZZ6gqwWdL3VP0uQGY2EngCTOwlmEj2GbBA0s/kfjoBmZkv1tvAwl6GieQvAhslWfRDKtBxYOt/gom62S/pQBcgM1vc/ogG8XxqfMSbhvMMKChkWnkVxSXjg/IBX+ilkl56YscImdljYHaIWlvrHxpOVuGf3oaOmcyM1XtDJKLYa5LWdgCZ2WrgeqjS76avPKrb3ZE2qHAY8yqOhMp4vK+hme5RiREyswftDhwklkcg7/eypHUysxHAR2BAEA2QZ6AvwCgHqgROh8J4fJ6BXHKJA9UBm/oIUK0D3c/WCHthhC440GtgSncjFPlMS/OPbAaxI2dwcUkcn7rnQP4CVZiut1SfyYkonk81OtA3j00P1ELDqSraWppzZflnnKMnMWPNvkxaCaAep6yx4RytzZ025WDAwcUjKS3fTlHmrSUxZX1uUZ8BKoJvuXd8KPHYbwDO9xGghDH2la3jMzAm2ly9VPH3oaCWZ2M8K6kyAloJ3Aiiye8a8tePMkkvkl/QHgJzQ6DaWjv7VAyf6U7+kqT1/mcykMM4VFDzrcV9amBBURyfSaftJfhUSW86AfkXMzsEVAcR5R68S5IXpImWWnX0A64Ca3LvJ5bCcUnbkiPTFYpDAHfvsliS2Qd5rb9cUmtGoPapKwBOeBGXfX8ZM32KqlNhukxZqoSZ7QEOAn7wkI/2G9giybertC3Occx0oAZwr+oxvpt+fFq8bK6JnqasgaJEM5sF+AJcAZTEHK73wE3gmKRXcXKC79jM/El0z/KjGq+b/TjPLx+F6EjvnR/pSXoaByI55i/ZzFUeDlWcxwAAAABJRU5ErkJggg=="},"88d0":function(t,e,a){"use strict";var s=a("a4c5"),n=a.n(s);n.a},a4c5:function(t,e,a){},b9e1:function(t,e,a){},c466:function(t,e,a){"use strict";function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss",a={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));return e}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";return s(new Date(t),e)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";return s(new Date(t),e)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm:ss";return s(new Date(t),e)}a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return l}))},d8cc:function(t,e,a){"use strict";var s=a("b9e1"),n=a.n(s);n.a},dae3:function(t,e,a){"use strict";var s=a("7e1e"),n=a.n(s);n.a},e3ee:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAA4CAYAAAB3yEEBAAACvklEQVRYR82Zv2sVQRSFvwjBwtLKIp3/gLWNYoKoCaKNiIWNNiFdxB9gYTpj7CzstBIEJSAWIkpAEdKksLFIYSFYCEIgiBIRk3BkRoZHdubOvpl9e8vHvJ1v58zcc+fuGKOJ48BtYAb45RHGRsAyDSwD48AH4KQH6hrmMvAI2BcsgoCmgK0uYa4Diw1KrABnuoJZAq4ltsRybRjJIVkkTyw2gVM1YfYDzwFt2Fh8A44B67VgDgCvgaMJkM8O5KvG1YA5CLwBjiRA1tyx3qiVZyYAnYzDCZC3LuFtheNKrowA3gOHEiDPgIvA38FxpWAkiaSRRLG4B9xoGlACRj7zEtCmjcUs8DA2YFiY0Gea5pEckkXyRGMYmL18ZnAyOfJZQBs2GW1hpPvdxNN1ZE8AH5MUbkAbmAfAXGICJTFlVSU1c+TAWH3mEzAJKM1nhRXG6jOrLqv+yKLIkMnqM6+Ac8DvNiD6T2plrD6jMuEqsN0WJAVj9ZkF4M4wEP6/TStj8Zkd4Iornkqw7CmTxWe0Ly4AL4pQNGxgi8/opOh6oZNTNEKZzgNP3X2maZLvgICVS4qHh5HPPE6cLmVTpfcvxSkCmXSF0FUiFvIXgfwvEWsAaWV6BaOXtJQDncjkV9xSKHWygT1Qb462B+pN0vNAvbEDD9Qbo/RAOSWETFPm2TpS9YwebC2uZJoyz2rFlX/L3pSdHiinIFeKUE7KCotMgw+0XFVkpvKyaleVECrWLPTjOrnE+cksfqbr7WngnUWvNjKFz7X42R/gUu2Lf46faWz1lkiOn2msmtI3myQbVqbwuRY/0/gnrn6q1kbL9bPqDcZcP1PrVd0Kdcf/RUmZQsmsfrbugKo1pXP9rHq7PtfPJNVkLZkGT+99YD6Rhat/4gnnjzUlO/34FfOzkXwW9EC9+WAa+tkt1wP86X/cBQn4mhB2t026AAAAAElFTkSuQmCC"}}]);